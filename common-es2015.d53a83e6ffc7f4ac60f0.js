(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"7Gk6":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r={arrowLeft:"assets/img/icon/econews/arrow_left.svg",ellipse:"assets/img/icon/econews/ellipse.svg",largeImage:"assets/img/icon/econews/news-default-large.png",twitter:"assets/img/icon/econews/twitter.svg",facebook:"assets/img/icon/econews/facebook.svg",linkedIn:"assets/img/icon/econews/linkedin.svg"}},"7itd":function(e,t,s){!function(e,t,s){"use strict";var r=function(e){e&&Object.assign(this,e)},o=function(){function t(e,t){this.el=e,this.ngZone=t,this.onAddressChange=new s.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.options||(this.options=new r),this.initialize()},t.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},t.prototype.initialize=function(){var e=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",(function(){e.handleChangeEvent()}))),this.el.nativeElement.addEventListener("keydown",(function(t){t.key&&"enter"==t.key.toLowerCase()&&t.target===e.el.nativeElement&&(t.preventDefault(),t.stopPropagation())})),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout((function(){var e=document.getElementsByClassName("pac-container");if(e){var t=Array.from(e);if(t)for(var s=0,r=t;s<r.length;s++){var o=r[s];o&&o.addEventListener("touchend",(function(e){e.stopImmediatePropagation()}))}}}),500)},t.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},t.prototype.handleChangeEvent=function(){var e=this;this.ngZone.run((function(){e.place=e.autocomplete.getPlace(),e.place&&e.onAddressChange.emit(e.place)}))},t.ctorParameters=function(){return[{type:s.ElementRef},{type:s.NgZone}]},t.propDecorators={options:[{type:s.Input,args:["options"]}],onAddressChange:[{type:s.Output}]},t.\u0275fac=function(s){return new(s||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.NgZone))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),t}(),i=function(){function t(){}return t.ctorParameters=function(){return[]},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({factory:function(e){return new(e||t)}}),("undefined"==typeof ngJitMode||ngJitMode)&&e.\u0275\u0275setNgModuleScope(t,{declarations:[o],exports:[o]}),t}();t.GooglePlaceModule=i,t.GooglePlaceDirective=o,Object.defineProperty(t,"__esModule",{value:!0})}(s("fXoL"),t,s("fXoL"))},GGLt:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var r=s("mrSG"),o=s("82Ky"),i=s("tk/3"),n=s("fXoL"),a=s("2Vo4"),c=s("XNiG"),d=s("HDdC"),u=s("z6cu"),l=s("vkgz"),p=s("Aljx");let h=class{constructor(e,t,s){this.http=e,this.shareFormService=t,this.localStorageService=s,this.orderSubject=new a.a({}),this.url="https://greencity-ubs.azurewebsites.net/ubs",this.locationSubject=new c.a,this.locationSub=new c.a,this.currentAddress=new c.a}getOrders(){const e=this.localStorageService.getUbsOrderData();if(e){return new d.a(t=>t.next(e)).pipe(Object(l.a)(e=>this.shareFormService.orderDetails=e))}return this.http.get(this.url+"/order-details").pipe(Object(l.a)(e=>this.shareFormService.orderDetails=e))}setLocationData(e){this.locationSub.next(e)}setCurrentAddress(e){this.currentAddress.next(e)}getPersonalData(){const e=this.localStorageService.getUbsPersonalData();if(e){return new d.a(t=>t.next(e)).pipe(Object(l.a)(e=>this.shareFormService.personalData=e))}return this.http.get(this.url+"/personal-data").pipe(Object(l.a)(e=>this.shareFormService.personalData=e))}processOrder(e){return this.http.post(this.url+"/processOrder",e,{responseType:"text"})}processCertificate(e){return this.http.get(`${this.url}/certificate/${e}`)}addAdress(e){return this.http.post(this.url+"/save-order-address",e)}deleteAddress(e){const t=e.id;return this.http.post(`${this.url}/${e.id}/delete-order-address`,t)}findAllAddresses(){return this.http.get(this.url+"/findAll-order-address")}setOrder(e){this.orderSubject.next(e)}getOrderUrl(){return this.processOrder(this.orderSubject.getValue())}getUbsOrderStatus(){const e=this.localStorageService.getUbsOrderId();return e?this.getLiqPayStatus(e):Object(u.a)(new Error("There is no OrderId!"))}getLiqPayStatus(e){return this.http.get(`${this.url}/getLiqPayStatus/${e}`)}getLocations(){return this.http.get(this.url+"/order/get-locations")}addLocation(e){return this.http.post(this.url+"/order/get-locations",e)}completedLocation(e){this.locationSubject.next(e)}processLiqPayOrder(e){return this.http.post(this.url+"/processLiqPayOrder",e,{responseType:"text"})}getLiqPayForm(){return this.processLiqPayOrder(this.orderSubject.getValue())}getOrderFromNotification(e){const t="ua"===localStorage.getItem("language")?1:2;return this.http.get(`${this.url}/client/get-data-for-order-surcharge/${e}/${t}`)}};h.ctorParameters=()=>[{type:i.b},{type:p.a},{type:o.a}],h=Object(r.__decorate)([Object(n.Injectable)({providedIn:"root"})],h)},"aW+4":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s("mrSG"),o=s("fXoL");let i=class{setWordDeclension(e){return"1"===e.slice(-1)&&"11"!==e.slice(-2)?"a":"234".includes(e.slice(-1))&&!["12","13","14"].includes(e.slice(-2))?"b":""}};i=Object(r.__decorate)([Object(o.Injectable)({providedIn:"root"})],i)},cP9i:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var r=s("mrSG"),o=s("fXoL"),i=s("tk/3"),n=s("jtHE"),a=s("HDdC"),c=s("1G5W"),d=s("IzEk"),u=s("AytR"),l=s("82Ky");let p=class{constructor(e,t){this.http=e,this.localStorageService=t,this.backEnd=u.a.backendLink,this.destroyed$=new n.a(1),this.localStorageService.languageBehaviourSubject.pipe(Object(c.a)(this.destroyed$)).subscribe(e=>this.language=e)}getAllPresentTags(){return this.http.get(`${this.backEnd}econews/tags/all?lang=${this.language}`)}getEcoNewsListByPage(e,t){return this.http.get(`${this.backEnd}econews?page=${e}&size=${t}`)}getNewsListByTags(e,t,s){return this.http.get(`${this.backEnd}econews/tags?page=${e}&size=${t}&tags=${s}`)}getNewsList(){return(new i.d).set("Content-type","application/json"),new a.a(e=>{this.http.get(this.backEnd+"econews").pipe(Object(d.a)(1)).subscribe(t=>{e.next(t)})})}getEcoNewsById(e){return this.http.get(`${this.backEnd}econews/${e}?lang=${this.language}`)}getRecommendedNews(e){return this.http.get(`${this.backEnd}econews/recommended?openedEcoNewsId=${e}`)}getIsLikedByUser(e){return this.http.get(this.backEnd+"econews/isLikedByUser",{params:{econewsId:e}})}postToggleLike(e){return this.http.post(`${this.backEnd}econews/like?id=${e}`,{})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};p.ctorParameters=()=>[{type:i.b},{type:l.a}],p=Object(r.__decorate)([Object(o.Injectable)({providedIn:"root"})],p)},q5jP:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var r=s("mrSG"),o=s("fXoL"),i=s("tyNb"),n=s("LRne"),a=s("82Ky"),c=s("pLZG"),d=s("fOhs"),u=s("0IaG");let l=class{constructor(e,t,s){this.localStorageService=e,this.router=t,this.dialog=s,this.isLoggedIn=!1,this.localStorageService.userIdBehaviourSubject.subscribe(e=>this.isLoggedIn=null!==e&&!isNaN(e)),this.localStorageService.ubsRegBehaviourSubject.subscribe(e=>this.ubsRegValue=e)}canActivate(e,t){return this.isLoggedIn?Object(n.a)(!0):(this.openSingInWindow("sign-in"),Object(n.a)(!1))}openSingInWindow(e){this.dialog.open(d.a,{hasBackdrop:!0,closeOnNavigation:!0,panelClass:"custom-dialog-container",data:{popUpName:e}}).afterClosed().pipe(Object(c.a)(Boolean)).subscribe(e=>{this.ubsRegValue?this.router.navigateByUrl("/ubs/order"):this.router.navigateByUrl(e+"/profile")})}};l.ctorParameters=()=>[{type:a.a},{type:i.g},{type:u.c}],l=Object(r.__decorate)([Object(o.Injectable)({providedIn:"root"})],l)}}]);